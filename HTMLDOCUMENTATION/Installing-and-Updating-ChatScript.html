<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Installing-and-Updating-ChatScript</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height; auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="installing-and-updating-chatscript">Installing and Updating
ChatScript</h1>
<p>Copyright Bruce Wilcox, gowilcox@gmail.com
www.brilligunderstanding.com <br>Revision 2/09/2017 cs7.2 <br></p>
<h1 id="installing-windows-mac-linux">Installing (Windows, Mac,
Linux)</h1>
<h2 id="installing-windows">Installing Windows</h2>
<p>Windows is simple. Unzip the zip into a folder of your choosing
(typically called ChatScript), preserving directory structure. You are
ready to execute ChatScript.exe immediately.</p>
<h2 id="installing-mac">Installing Mac</h2>
<p>Life is not so easy for a Mac user since I don’t have a mac. After
unzipping into a folder (typically called ChatScript), you need to
compile the src in SRC. The alternate technology is to beg in the
ChatScript forum on ChatBots.org for a mac user to send you their
executable copy of the latest build. To compile means using XCODE and
making an appropriate make file for it based on the make file in SRC.
And you have to install curl and optionally postgres. If you don’t have
or want them you can in your build file do defines of: DISCARDDATABASE
and DISCARDJSON.</p>
<p>Alternatively you can use the binary in
<code>BINARIES/MacChatScript</code>, but it is at least one version
behind unless you are grabbing chatscript directly from github.</p>
<p>There is also an Xcode project in the
<code>NON-WINDOWS NON-C/Xcode</code> directory that you can launch and
build your own binary with. This is probably the prefered method for
advanced users.</p>
<p>See the <code>Chatscript on a Mac</code> in
<code>Overviews and Tutorials</code> directory of the docs for a more
indepth discusion of compiling and using ChatScript on a mac.</p>
<h2 id="installing-linux">Installing Linux</h2>
<p>If you have a 64-bit machine, generally you can the
LinuxChatScriptxx64 binary file directly, after first doing “chmod +x
LinuxChatScript64” to make it executable by Linux. You may need to
install “curl” as well if you use JSON webqueries. If you have a 32-bit
machine or don’t install curl or have other issues running, you may need
to compile the system yourself. This means installing make and g++, then
go stand in the SRC directory and type make server or make pgserver (for
postgress). This will copy into the main CS directory ChatScript and
ChatScriptpg. Note this is different from the names that come in the
zip, which are LinuxChatScript64 and LinuxChatScriptpg64. The only thing
you have to pay attention to is that if you install the cron job in the
LINUX folder, be aware that it names the Linux names and you either need
to edit that cron or rename your files that you build.</p>
<h1 id="updating-chatscript">Updating ChatScript</h1>
<p>ChatScript evolves on a regular basis. New functionality is added,
new bugs are created, and old bugs are fixed. Sometimes old functions or
concepts get deprecated or removed. The top-level file changes.txt
advises on new functionality and incompatible changes. You should read
it. When functions get changed or deprecated, generally if you try to
compile your old script that uses them, the compiler will complain and
you just fix your source. When concepts are renamed or deleted, the
compiler will issue warnings and you edit your script. Of course if you
get zillions of warnings and pay no attention, you will miss that
change.</p>
<p>The simple-minded way to install a new version is to unzip it and
then move your bot’s RAWDATA folder and <code>buildxxx.txt</code> file
into the new CS folder. Then do :build of whatever. That’s not the ideal
way however.</p>
<p>The ideal way to do ChatScript is to have a folder that somehow
contains your bot data AND contains CS as a subfolder. Like this:</p>
<pre><code>MYFOLDER/
    startserver.sh
    BOTDATA/
        Smooth/
            smoothcontrol.top
        Fuzzy/
            fuzzycontrol.top
            flea.top
        AllBots/
            shopping.top
    filesmybot.txt
    ChatScript/</code></pre>
<p>In your <code>filesmybot.txt</code> you name the path to your
<code>BOTDATA</code> files and folders appropriately. Then, to update
ChatScript, you remove the ChatScript folder and drop in the new one.
ChatScript automatically looks above itself to find your
<code>filesxxx.txt</code> file if it can’t find it within.</p>
<p>Example filesmybot.txt for the directory structure above:</p>
<pre><code># multibot example
../BOTDATA/Smooth/
../BOTDATA/Fuzzy/
../BOTDATA/AllBots/
# load in standard chatscript quibbles
RAWDATA/QUIBBLE/</code></pre>
<p>You then start the server in the ‘MYFOLDER’ directory with a script
like this on Mac or Linux, windows is similar:</p>
<pre><code>#!/bin/sh
cd ChatScript &amp;&amp; BINARIES/MacChatScript livedata=../LIVEDATA english=LIVEDATA/ENGLISH system=LIVEDATA/SYSTEM local</code></pre>
<p>Similarly, if you have your own <code>LIVEDATA</code> files, you can
give a reference to your copy of files in <code>MYDATA/LIVEDATA</code>
so you don’t have to worry that CS copies may have changed. You want to
allow CS to use its own copy of <code>LIVEDATA/SYSTEM</code> and
<code>LIVEDATA/ENGLISH</code>. And you may prefer to use the
substitution files of ChatScript. If you have your own canon file data
you want to use and your own substitutions, consider adding them to your
script file as <code>canon:</code> and <code>replace:</code> (see
<code>:build</code> documentation).</p>
<p>If you actually go an edit CS code to add your own engine functions,
don’t modify CS engine code. Instead compile with the PRIVATE_CODE
define and name in your include path where to find your files:
privatesrc.cpp and privatetable.cpp so you can add code and table
entries for them w/o touching the original CS source. You can augment
the existing ChatScript dictionary in script, merely by declaring
concepts with pos-tagging data (both generic and specific tags).
E.g.</p>
<pre><code>concept: ~morenouns ~NOUN ~NOUN_SINGULAR (webview webvan)</code></pre>
</body>
</html>
